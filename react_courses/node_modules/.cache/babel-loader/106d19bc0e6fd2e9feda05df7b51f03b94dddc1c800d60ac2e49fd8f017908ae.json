{"ast":null,"code":"var _jsxFileName = \"/home/ali/frontend/react_learning/react_courses/src/context.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Context = /*#__PURE__*/createContext();\nconst photos = [];\nconst initialState = {\n  items: photos,\n  count: photos.length,\n  inputs: {\n    title: null,\n    file: null,\n    path: null\n  },\n  isCollapsed: false\n};\nconst handleOnChange = (state, e) => {\n  if (e.target.name === 'file') {\n    return {\n      ...state.inputs,\n      file: e.target.files[0],\n      path: URL.createObjectURL(e.target.files[0])\n    };\n  } else {\n    return {\n      ...state.inputs,\n      title: e.target.value\n    };\n  }\n};\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'setItem':\n      return {\n        ...state,\n        items: [state.inputs, ...state.items],\n        count: state.items.length + 1,\n        inputs: {\n          title: null,\n          file: null,\n          path: null\n        }\n      };\n    case 'setInputs':\n      return {\n        ...state,\n        inputs: handleOnChange(state, action.payload.value)\n      };\n    case 'collapse':\n      return {\n        ...state,\n        isCollapsed: action.payload.bool\n      };\n    default:\n      return state;\n  }\n}\nconst Provider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 12\n  }, this); //Allow any component to  access Context to send actions through dispatch to reduce() and reduce() would return upgrade(new) state.\n};\n_s(Provider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = Provider;\nexport default Provider;\nvar _c;\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["createContext","useReducer","jsxDEV","_jsxDEV","Context","photos","initialState","items","count","length","inputs","title","file","path","isCollapsed","handleOnChange","state","e","target","name","files","URL","createObjectURL","value","reducer","action","type","payload","bool","Provider","children","_s","dispatch","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ali/frontend/react_learning/react_courses/src/context.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\nexport const Context=createContext()\nconst photos=[]\nconst initialState={\n    items: photos,\n    count: photos.length,\n    inputs: {title:null, file:null, path:null},\n    isCollapsed: false\n}\nconst handleOnChange=(state, e)=>{\n  if(e.target.name === 'file'){\n    return{...state.inputs, file: e.target.files[0], path:URL.createObjectURL(e.target.files[0])};\n  }else{\n    return{...state.inputs,title:e.target.value};\n  }\n}\n\nfunction reducer(state, action){\n  switch(action.type){\n    case 'setItem':\n      return{\n        ...state,\n        items:[state.inputs, ...state.items],\n        count: state.items.length+1,\n        inputs:{title:null, file:null, path:null}\n      }\n\n    case 'setInputs':\n      return{\n        ...state,\n        inputs:handleOnChange(state, action.payload.value)\n      }\n    case 'collapse':\n      return{\n        ...state,\n        isCollapsed: action.payload.bool\n      }\n      default: return state;\n  }\n}\n\nconst Provider=({children})=>{\n    const [state, dispatch]= useReducer(reducer,initialState);\n    return <Context.Provider value={{state,dispatch}}>{children}</Context.Provider> //Allow any component to  access Context to send actions through dispatch to reduce() and reduce() would return upgrade(new) state.\n}\nexport default Provider;"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAClD,OAAO,MAAMC,OAAO,gBAACJ,aAAa,CAAC,CAAC;AACpC,MAAMK,MAAM,GAAC,EAAE;AACf,MAAMC,YAAY,GAAC;EACfC,KAAK,EAAEF,MAAM;EACbG,KAAK,EAAEH,MAAM,CAACI,MAAM;EACpBC,MAAM,EAAE;IAACC,KAAK,EAAC,IAAI;IAAEC,IAAI,EAAC,IAAI;IAAEC,IAAI,EAAC;EAAI,CAAC;EAC1CC,WAAW,EAAE;AACjB,CAAC;AACD,MAAMC,cAAc,GAACA,CAACC,KAAK,EAAEC,CAAC,KAAG;EAC/B,IAAGA,CAAC,CAACC,MAAM,CAACC,IAAI,KAAK,MAAM,EAAC;IAC1B,OAAM;MAAC,GAAGH,KAAK,CAACN,MAAM;MAAEE,IAAI,EAAEK,CAAC,CAACC,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC;MAAEP,IAAI,EAACQ,GAAG,CAACC,eAAe,CAACL,CAAC,CAACC,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC;IAAC,CAAC;EAC/F,CAAC,MAAI;IACH,OAAM;MAAC,GAAGJ,KAAK,CAACN,MAAM;MAACC,KAAK,EAACM,CAAC,CAACC,MAAM,CAACK;IAAK,CAAC;EAC9C;AACF,CAAC;AAED,SAASC,OAAOA,CAACR,KAAK,EAAES,MAAM,EAAC;EAC7B,QAAOA,MAAM,CAACC,IAAI;IAChB,KAAK,SAAS;MACZ,OAAM;QACJ,GAAGV,KAAK;QACRT,KAAK,EAAC,CAACS,KAAK,CAACN,MAAM,EAAE,GAAGM,KAAK,CAACT,KAAK,CAAC;QACpCC,KAAK,EAAEQ,KAAK,CAACT,KAAK,CAACE,MAAM,GAAC,CAAC;QAC3BC,MAAM,EAAC;UAACC,KAAK,EAAC,IAAI;UAAEC,IAAI,EAAC,IAAI;UAAEC,IAAI,EAAC;QAAI;MAC1C,CAAC;IAEH,KAAK,WAAW;MACd,OAAM;QACJ,GAAGG,KAAK;QACRN,MAAM,EAACK,cAAc,CAACC,KAAK,EAAES,MAAM,CAACE,OAAO,CAACJ,KAAK;MACnD,CAAC;IACH,KAAK,UAAU;MACb,OAAM;QACJ,GAAGP,KAAK;QACRF,WAAW,EAAEW,MAAM,CAACE,OAAO,CAACC;MAC9B,CAAC;IACD;MAAS,OAAOZ,KAAK;EACzB;AACF;AAEA,MAAMa,QAAQ,GAACA,CAAC;EAACC;AAAQ,CAAC,KAAG;EAAAC,EAAA;EACzB,MAAM,CAACf,KAAK,EAAEgB,QAAQ,CAAC,GAAE/B,UAAU,CAACuB,OAAO,EAAClB,YAAY,CAAC;EACzD,oBAAOH,OAAA,CAACC,OAAO,CAACyB,QAAQ;IAACN,KAAK,EAAE;MAACP,KAAK;MAACgB;IAAQ,CAAE;IAAAF,QAAA,EAAEA;EAAQ;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAmB,CAAC,EAAC;AACpF,CAAC;AAAAL,EAAA,CAHKF,QAAQ;AAAAQ,EAAA,GAARR,QAAQ;AAId,eAAeA,QAAQ;AAAC,IAAAQ,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}