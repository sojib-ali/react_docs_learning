{"ast":null,"code":"var _jsxFileName = \"/home/ali/frontend/react_learning/react_courses/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useReducer } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Card from \"./components/Card\";\nimport UploadForm from \"./components/UploadForm\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst photos = [];\nconst initialState = {\n  items: photos,\n  count: photos.length,\n  inputs: {\n    title: null,\n    file: null,\n    path: null\n  },\n  isCollapsed: false\n};\nconst handleOnChange = (state, e) => {\n  if (e.target.name === 'file') {\n    return {\n      ...state.inputs,\n      file: e.target.files[0],\n      path: URL.createObjectURL(e.target.files[0])\n    };\n  } else {\n    return {\n      ...state.inputs,\n      title: e.target.value\n    };\n  }\n};\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'setItem':\n      return {\n        ...state,\n        items: [state.inputs, ...state.items]\n      };\n    case \"setInputs\":\n      return {\n        ...state,\n        inputs: handleOnChange(state, action.payload.value)\n      };\n    case 'collapse':\n      return {\n        ...state,\n        isCollapsed: action.payload.bool\n      };\n    default:\n      return state;\n  }\n}\nfunction App() {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [count, setCount] = useState();\n  const toggle = bool => dispatch({\n    type: \"collapse\",\n    payload: {\n      bool\n    }\n  });\n  const handleOnChange = e => dispatch({\n    type: 'setInputs',\n    payload: {\n      value: e\n    }\n  });\n  const handleOnSubmit = e => {\n    e.preventDefault();\n    dispatch({\n      type: 'setItem'\n    });\n    toggle(!state.isCollapsed);\n  };\n  useEffect(() => {\n    setCount(`you have ${state.items.length} image${state.items.length > 1 ? 's' : ''}`);\n  }, [state.items]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success float-end\",\n        onClick: () => toggle(!state.isCollapsed),\n        children: state.isCollapsed ? 'Close' : '+ Add'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UploadForm, {\n        inputs: state.inputs,\n        isVisible: state.isCollapsed,\n        onChange: handleOnChange,\n        onSubmit: handleOnSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Gallery\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), count, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: state.items.map((photo, index) => /*#__PURE__*/_jsxDEV(Card, {\n          src: photo.path\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 44\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"nNBzG5+zifmfJMlGb5YV1UO1sX8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","useReducer","Navbar","Card","UploadForm","jsxDEV","_jsxDEV","Fragment","_Fragment","photos","initialState","items","count","length","inputs","title","file","path","isCollapsed","handleOnChange","state","e","target","name","files","URL","createObjectURL","value","reducer","action","type","payload","bool","App","_s","dispatch","setCount","toggle","handleOnSubmit","preventDefault","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","isVisible","onChange","onSubmit","map","photo","index","src","_c","$RefreshReg$"],"sources":["/home/ali/frontend/react_learning/react_courses/src/App.js"],"sourcesContent":["import { useState, useEffect, useReducer } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport Card from \"./components/Card\";\nimport UploadForm from \"./components/UploadForm\";\nimport \"./App.css\";\n\nconst photos = []\n\nconst initialState = {\n    items: photos, \n    count: photos.length, \n    inputs: { title: null, file: null, path: null}, \n    isCollapsed: false\n}\nconst handleOnChange = (state, e) => {\n  if (e.target.name === 'file') {\n    return { ...state.inputs, file: e.target.files[0], path: URL.createObjectURL(e.target.files[0])}\n  } else {\n    return {...state.inputs, title: e.target.value}\n  }\n\n}\n\nfunction reducer(state, action) {\n  switch(action.type  ) {\n      case 'setItem':\n        return {\n          ...state, \n          items: [state.inputs, ...state.items]\n        }\n      case \"setInputs\": \n      return {\n        ...state, \n        inputs: handleOnChange(state, action.payload.value)\n      }\n      case 'collapse':\n        return {\n          ...state, \n          isCollapsed: action.payload.bool\n        }\n      default : return state\n  }\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  const [count, setCount] = useState()\n\n  const toggle = (bool) => dispatch({ type: \"collapse\", payload: { bool }})\n  const handleOnChange = (e) => dispatch({ type: 'setInputs', payload: { value: e}})\n  const handleOnSubmit = (e) => {\n    e.preventDefault()\n    dispatch({ type: 'setItem'})\n    toggle(!state.isCollapsed)\n  }\n\n  useEffect(() => {\n    setCount(`you have ${state.items.length} image${state.items.length > 1 ? 's': ''}`)\n  }, [state.items])\n  return (\n    <>\n      <Navbar />\n      <div className=\"container text-center mt-5\">\n        <button className=\"btn btn-success float-end\" onClick={() => toggle(!state.isCollapsed)}>{state.isCollapsed ? 'Close' : '+ Add'}</button>\n        <div className=\"clearfix mb-4\"></div>\n        <UploadForm \n          inputs={state.inputs}\n          isVisible={state.isCollapsed}\n          onChange={handleOnChange}\n          onSubmit={handleOnSubmit}\n        />\n        <h1>Gallery</h1>\n        {count}\n        <div className=\"row\">\n        {state.items.map((photo, index) => <Card key={index} src={photo.path}/>)}\n        </div>\n      </div>\n    </>\n  );\n \n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}